(this.webpackJsonpclient_shop=this.webpackJsonpclient_shop||[]).push([[6],{121:function(e,s,t){"use strict";function c(e){const s=e+"";let t="",c=0;for(let a=s.length-1;a>=0;a--)c++,t=s[a]+t,c%3===0&&0!==a&&(t="."+t,c=0);return t}t.d(s,"a",(function(){return c}))},122:function(e,s,t){"use strict";var c=t(11);const a={getCarts:e=>{const s="/carts".concat(e);return c.a.get(s)},postAddToCart:e=>{const s="/carts/add".concat(e);return c.a.post(s)},deleteToCart:e=>{const s="/carts/delete".concat(e);return c.a.delete(s)},putToCart:e=>{const s="/carts/update".concat(e);return c.a.put(s)},postCheckNumberProduct:e=>c.a.post("/carts/check",e)};s.a=a},123:function(e,s,t){"use strict";var c=t(11);const a={getAPI:()=>c.a.get("/products"),getCategory:e=>{const s="/products/category".concat(e);return c.a.get(s)},getDetail:e=>{const s="/products/".concat(e);return c.a.get(s)},getPagination:e=>{const s="/products/pagination".concat(e);return c.a.get(s)}};s.a=a},132:function(e,s,t){"use strict";t.r(s);var c=t(1),a=t(123),l=t(3),i=t(6),r=t(10),n=t(124),o=t.n(n),m=t(32),d=t(122),j=t(31),b=t.n(j),x=t(11);var u={getCommentProduct:e=>{const s="/comment/".concat(e);return x.a.get(s)},postCommentProduct:e=>{const s="/comment/send".concat(e);return x.a.post(s)}},h=t(121),O=t(0);const p=t(58)("http://localhost:5000");s.default=function(e){const[s,t]=Object(c.useState)({}),n=Object(r.b)(),{id:j}=Object(l.g)(),x=Object(r.c)((e=>e.Cart.id_user)),[N,g]=(Object(r.c)((e=>e.Cart.listCart)),Object(c.useState)([])),[f,v]=Object(c.useState)(1),[y,w]=Object(c.useState)(""),[C,k]=(Object(r.c)((e=>e.Session.idUser)),Object(c.useState)([])),[_,S]=Object(c.useState)(!1);Object(c.useEffect)((()=>{(async()=>{const e={idProduct:j},s="?"+b.a.stringify(e),t=await u.getCommentProduct(s);console.log(t),k(t)})()}),[j]),Object(c.useEffect)((()=>{if(_){(async()=>{const e={idProduct:j},s="?"+b.a.stringify(e),t=await u.getCommentProduct(s);console.log(t),k(t)})(),S(!1)}}),[_]),Object(c.useEffect)((()=>{(async()=>{const e=(await a.a.getAPI()).products;g(e)})()}),[]);const[P,q]=Object(c.useState)(1),E=async()=>{const e=await a.a.getDetail(j);console.log(e),console.log(e.product),t(e.product)};Object(c.useEffect)((()=>{E()}),[j]);const[T,I]=Object(c.useState)("description");return Object(c.useEffect)((()=>{p.on("update_quantity",(e=>{console.log(e.message),E()}))}),[]),Object(O.jsx)("section",{className:"py-5",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{className:"row mb-5",children:[Object(O.jsx)("div",{className:"col-lg-6",children:Object(O.jsxs)("div",{className:"row m-sm-0",children:[Object(O.jsx)("div",{className:"col-sm-2 p-sm-0 order-2 order-sm-1 mt-2 mt-sm-0",children:Object(O.jsxs)("div",{className:"owl-thumbs d-flex flex-row flex-sm-column","data-slider-id":"1",children:[Object(O.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(O.jsx)("img",{className:"w-100",src:s.img1,alt:"..."})}),Object(O.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(O.jsx)("img",{className:"w-100",src:s.img2,alt:"..."})}),Object(O.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(O.jsx)("img",{className:"w-100",src:s.img3,alt:"..."})}),Object(O.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(O.jsx)("img",{className:"w-100",src:s.img4,alt:"..."})})]})}),Object(O.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide col-sm-10 order-1 order-sm-2","data-ride":"carousel",children:[Object(O.jsxs)("div",{className:"carousel-inner owl-carousel product-slider",children:[Object(O.jsx)("div",{className:"carousel-item active",children:Object(O.jsx)("img",{className:"d-block w-100",src:s.img1,alt:"First slide"})}),Object(O.jsx)("div",{className:"carousel-item",children:Object(O.jsx)("img",{className:"d-block w-100",src:s.img2,alt:"Second slide"})}),Object(O.jsx)("div",{className:"carousel-item",children:Object(O.jsx)("img",{className:"d-block w-100",src:s.img3,alt:"Third slide"})}),Object(O.jsx)("div",{className:"carousel-item",children:Object(O.jsx)("img",{className:"d-block w-100",src:s.img4,alt:"Third slide"})})]}),Object(O.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[Object(O.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(O.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(O.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[Object(O.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(O.jsx)("span",{className:"sr-only",children:"Next"})]})]})]})}),Object(O.jsxs)("div",{className:"col-lg-6",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h1",{children:s.name}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{className:"text-muted lead",children:[Object(h.a)(s.price)," VND"]}),Object(O.jsx)("br",{}),Object(O.jsx)("p",{className:"text-small mb-4",children:s.short_desc}),Object(O.jsxs)("ul",{className:"list-unstyled small d-inline-block",children:[Object(O.jsxs)("li",{className:"mb-3 bg-white text-muted",children:[Object(O.jsx)("strong",{className:"text-uppercase text-dark",children:"Category:"}),Object(O.jsxs)("a",{className:"reset-anchor ml-2",children:[s.category,"s"]})]}),Object(O.jsxs)("li",{className:"mb-3 bg-white text-muted",children:[Object(O.jsx)("strong",{className:"text-uppercase text-dark",children:"Remaining quantity:"}),Object(O.jsx)("a",{className:"reset-anchor ml-2",children:s.quantity>0?s.quantity:"H\u1ebft h\xe0ng"})]})]}),Object(O.jsxs)("div",{className:"row align-items-stretch mb-4",children:[Object(O.jsx)("div",{className:"col-sm-5 pr-sm-0",children:Object(O.jsxs)("div",{className:"border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white",children:[Object(O.jsx)("span",{className:"small text-uppercase text-gray mr-4 no-select",children:"Quantity"}),Object(O.jsxs)("div",{className:"quantity",children:[Object(O.jsx)("button",{className:"dec-btn p-0",style:{cursor:"pointer"},children:Object(O.jsx)("i",{className:"fas fa-caret-left",onClick:()=>{const e=parseInt(P)-1;0!==e&&q(e)}})}),Object(O.jsx)("input",{className:"form-control border-0 shadow-0 p-0",type:"text",value:P,onChange:e=>{q(e.target.value)}}),Object(O.jsx)("button",{className:"inc-btn p-0",style:{cursor:"pointer"},children:Object(O.jsx)("i",{className:"fas fa-caret-right",onClick:()=>(e=>{const s=parseInt(P)+1;s>e||q(s)})(s.quantity)})})]})]})}),Object(O.jsx)("div",{className:"col-sm-3 pl-sm-0",children:Object(O.jsx)("a",{className:"btn btn-dark btn-sm btn-block d-flex align-items-center justify-content-center px-0 text-white",onClick:()=>(e=>{let t="";if(0===e)return;t=localStorage.getItem("id_user")?localStorage.getItem("id_user"):x;const c={idUser:t,_id:s._id,name:s.name,price:s.price,quantity:P,img1:s.img1};if(console.log("data",c),localStorage.getItem("id_user"))console.log("B\u1ea1n \u0110\xe3 \u0110\u0103ng Nh\u1eadp!"),(async()=>{const e={idUser:t,_id:s._id,quantity:P};console.log("params",e);const c="?"+b.a.stringify(e);console.log(c);const a=await d.a.postAddToCart(c);console.log(a)})();else{const e=Object(m.a)(c);n(e)}o.a.set("notifier","position","bottom-left"),o.a.success("B\u1ea1n \u0110\xe3 Th\xeam H\xe0ng Th\xe0nh C\xf4ng!")})(s.quantity),children:"Add to cart"})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("ul",{className:"nav nav-tabs border-0",children:Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{className:"nav-link fix_comment",onClick:()=>{I("description")},style:"description"===T?{backgroundColor:"#383838",color:"#ffffff"}:{color:"#383838"},children:"Description"})})}),Object(O.jsx)("div",{className:"tab-content mb-5",children:"description"===T?Object(O.jsx)("div",{className:"tab-pane fade show active",children:Object(O.jsxs)("div",{className:"pt-4 pb-4 bg-white",children:[Object(O.jsx)("h6",{className:"text-uppercase",children:"Product description "}),Object(O.jsx)("br",{}),Object(O.jsx)("p",{className:"text-muted text-small mb-0",style:{whiteSpace:"pre-wrap"},children:s.long_desc})]})}):Object(O.jsx)("div",{className:"tab-pane fade show active",children:Object(O.jsx)("div",{className:"p-4 p-lg-5 bg-white",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-lg-8",children:C&&C.map((e=>Object(O.jsxs)("div",{className:"media mb-3",children:[Object(O.jsx)("img",{className:"rounded-circle",src:"https://img.icons8.com/color/36/000000/administrator-male.png",alt:"",width:"50"}),Object(O.jsxs)("div",{className:"media-body ml-3",children:[Object(O.jsx)("h6",{className:"mb-0 text-uppercase",children:e.fullname}),Object(O.jsx)("p",{className:"small text-muted mb-0 text-uppercase",children:"dd/mm/yyyy"}),Object(O.jsxs)("ul",{className:"list-inline mb-1 text-xs",children:[Object(O.jsx)("li",{className:"list-inline-item m-0",children:Object(O.jsx)("i",{className:e.star1})}),Object(O.jsx)("li",{className:"list-inline-item m-0",children:Object(O.jsx)("i",{className:e.star2})}),Object(O.jsx)("li",{className:"list-inline-item m-0",children:Object(O.jsx)("i",{className:e.star3})}),Object(O.jsx)("li",{className:"list-inline-item m-0",children:Object(O.jsx)("i",{className:e.star4})}),Object(O.jsx)("li",{className:"list-inline-item m-0",children:Object(O.jsx)("i",{className:e.star5})})]}),Object(O.jsx)("p",{className:"text-small mb-0 text-muted",children:e.content})]})]},e._id)))})})})})}),Object(O.jsx)("h2",{className:"h5 text-uppercase mb-4",children:"Related products"}),Object(O.jsx)("div",{className:"row",children:N&&N.filter((e=>e.category===s.category&&e._id!==s._id)).map((e=>Object(O.jsx)("div",{className:"col-lg-3 col-sm-6",children:Object(O.jsxs)("div",{className:"product text-center skel-loader",children:[Object(O.jsxs)("div",{className:"d-block mb-3 position-relative",children:[Object(O.jsx)("img",{className:"img-fluid w-100",src:e.img1,alt:"..."}),Object(O.jsx)("div",{className:"product-overlay",children:Object(O.jsx)("ul",{className:"mb-0 list-inline"})})]}),Object(O.jsx)("h6",{children:Object(O.jsx)(i.b,{className:"reset-anchor",to:"/detail/".concat(e._id),children:e.name})}),Object(O.jsxs)("p",{className:"small text-muted",children:[Object(h.a)(e.price)," VND"]})]})},e._id)))})]})})}}}]);
//# sourceMappingURL=6.0b7622ca.chunk.js.map