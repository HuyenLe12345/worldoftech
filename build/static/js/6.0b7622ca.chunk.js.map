{"version":3,"sources":["convertMoney.js","API/CartAPI.jsx","API/ProductAPI.jsx","API/CommentAPI.jsx","Detail/Detail.jsx"],"names":["convertMoney","money","str","output","count","i","length","CartAPI","getCarts","query","url","concat","axiosClient","get","postAddToCart","post","deleteToCart","delete","putToCart","put","postCheckNumberProduct","id","ProductAPI","getAPI","getCategory","getDetail","getPagination","CommentAPI","getCommentProduct","postCommentProduct","socket","require","io","Detail","props","detail","setDetail","useState","dispatch","useDispatch","useParams","id_user","useSelector","state","Cart","product","setProduct","listCart","star","setStar","comment","setComment","list_comment","set_list_comment","Session","idUser","load_comment","set_load_comment","useEffect","async","params","idProduct","queryString","stringify","response","console","log","fetchData","data","products","text","setText","fetchDetail","review","setReview","on","message","_jsx","className","children","_jsxs","src","img1","alt","img2","img3","img4","href","role","name","price","short_desc","category","quantity","style","cursor","onClick","downText","value","parseInt","type","onChange","e","target","upText","id_user_cart","localStorage","getItem","_id","fetchPost","action","addCart","alertify","set","success","addToCart","backgroundColor","color","whiteSpace","long_desc","map","width","fullname","star1","star2","star3","star4","star5","content","filter","el","Link","to"],"mappings":"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","file":"static/js/6.0b7622ca.chunk.js","sourcesContent":["export default function convertMoney(money) {\n\tconst str = money + \"\";\n\tlet output = \"\"\n\n\tlet count = 0;\n\tfor (let i = str.length - 1; i >= 0; i--) {\n\t\tcount++;\n\t\toutput = str[i] + output\n\n\t\tif (count % 3 === 0 && i !== 0) {\n\t\t\toutput = \".\" + output\n\t\t\tcount = 0;\n\t\t}\n\t}\n\n\treturn output;\n}\n","import axiosClient from \"./axiosClient\";\n\nconst CartAPI = {\n  getCarts: (query) => {\n    const url = `/carts${query}`;\n    return axiosClient.get(url);\n  },\n\n  postAddToCart: (query) => {\n    const url = `/carts/add${query}`;\n    return axiosClient.post(url);\n  },\n\n  deleteToCart: (query) => {\n    const url = `/carts/delete${query}`;\n    return axiosClient.delete(url);\n  },\n\n  putToCart: (query) => {\n    const url = `/carts/update${query}`;\n    return axiosClient.put(url);\n  },\n  postCheckNumberProduct: (id) => {\n    const url = `/carts/check`;\n    return axiosClient.post(url, id);\n  },\n};\n\nexport default CartAPI;\n","import axiosClient from './axiosClient';\n\nconst ProductAPI = {\n\tgetAPI: () => {\n\t\tconst url = '/products';\n\t\treturn axiosClient.get(url);\n\t},\n\n\tgetCategory: (query) => {\n\t\tconst url = `/products/category${query}`;\n\t\treturn axiosClient.get(url);\n\t},\n\n\tgetDetail: (id) => {\n\t\tconst url = `/products/${id}`;\n\t\treturn axiosClient.get(url);\n\t},\n\n\tgetPagination: (query) => {\n\t\tconst url = `/products/pagination${query}`;\n\t\treturn axiosClient.get(url);\n\t},\n};\n\nexport default ProductAPI;\n","import axiosClient from './axiosClient';\n\nconst CommentAPI = {\n\tgetCommentProduct: (query) => {\n\t\tconst url = `/comment/${query}`;\n\t\treturn axiosClient.get(url);\n\t},\n\n\tpostCommentProduct: (query) => {\n\t\tconst url = `/comment/send${query}`;\n\t\treturn axiosClient.post(url);\n\t},\n};\n\nexport default CommentAPI;\n","import React, { useEffect, useState } from \"react\";\nimport ProductAPI from \"../API/ProductAPI\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport alertify from \"alertifyjs\";\nimport { addCart } from \"../Redux/Action/ActionCart\";\nimport CartAPI from \"../API/CartAPI\";\nimport queryString from \"query-string\";\nimport CommentAPI from \"../API/CommentAPI\";\nimport convertMoney from \"../convertMoney\";\nconst io = require(\"socket.io-client\");\nconst socket = io(\"http://localhost:5000\");\nfunction Detail(props) {\n  const [detail, setDetail] = useState({});\n\n  const dispatch = useDispatch();\n\n  //id params cho từng sản phẩm\n  const { id } = useParams();\n\n  //id_user được lấy từ redux\n  const id_user = useSelector((state) => state.Cart.id_user);\n\n  //listCart được lấy từ redux\n  const listCart = useSelector((state) => state.Cart.listCart);\n\n  const [product, setProduct] = useState([]);\n\n  const [star, setStar] = useState(1);\n\n  const [comment, setComment] = useState(\"\");\n\n  // id_user đã đăng nhập\n  const idUser = useSelector((state) => state.Session.idUser);\n\n  // Listcomment\n  const [list_comment, set_list_comment] = useState([]);\n\n  // state này dùng để load lại comment khi user gửi comment lên\n  const [load_comment, set_load_comment] = useState(false);\n\n  // Hàm này dùng để lấy dữ liệu comment\n  // Hàm này sẽ chạy lại phụ thuộc vào id Param\n  useEffect(() => {\n    const fetchData = async () => {\n      const params = {\n        idProduct: id,\n      };\n\n      const query = \"?\" + queryString.stringify(params);\n\n      const response = await CommentAPI.getCommentProduct(query);\n      console.log(response);\n\n      set_list_comment(response);\n    };\n\n    fetchData();\n  }, [id]);\n\n  // Hàm thay đổi sao đánh giá\n  const onChangeStar = (e) => {\n    setStar(e.target.value);\n  };\n\n  // Hàm thay đổi comment\n  const onChangeComment = (e) => {\n    setComment(e.target.value);\n  };\n\n  // Hàm này dùng để bình luận\n  const handlerComment = () => {\n    if (idUser === \"\") {\n      alertify.set(\"notifier\", \"position\", \"bottom-left\");\n      alertify.error(\"Vui Lòng Kiểm Tra Đăng Nhập!\");\n      return;\n    }\n\n    const fetchSendComment = async () => {\n      const params = {\n        idProduct: id,\n        idUser: localStorage.getItem(\"id_user\"),\n        fullname: localStorage.getItem(\"name_user\"),\n        content: comment,\n        star: star,\n      };\n\n      const query = \"?\" + queryString.stringify(params);\n\n      const response = await CommentAPI.postCommentProduct(query);\n      console.log(response);\n\n      set_load_comment(true);\n    };\n\n    fetchSendComment();\n\n    setComment(\"\");\n  };\n\n  // Hàm này dùng để load lại dữ liệu comment\n  // Phụ thuộc vào state load_comment\n  useEffect(() => {\n    if (load_comment) {\n      const fetchData = async () => {\n        const params = {\n          idProduct: id,\n        };\n\n        const query = \"?\" + queryString.stringify(params);\n\n        const response = await CommentAPI.getCommentProduct(query);\n        console.log(response);\n\n        set_list_comment(response);\n      };\n\n      fetchData();\n\n      set_load_comment(false);\n    }\n  }, [load_comment]);\n\n  //Hàm này gọi API và cắt chỉ lấy 4 sản phẩm\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await ProductAPI.getAPI();\n      const data = response.products;\n      setProduct(data);\n    };\n\n    fetchData();\n  }, []);\n\n  //Phần này là để thay đổi số lượng khi mua sản phẩm\n  const [text, setText] = useState(1);\n  const onChangeText = (e) => {\n    setText(e.target.value);\n  };\n\n  //Tăng lên 1 đơn vị\n  const upText = (count) => {\n    const value = parseInt(text) + 1;\n    if (value > count) return;\n    setText(value);\n  };\n\n  //Giảm 1 đơn vị\n  const downText = () => {\n    const value = parseInt(text) - 1;\n\n    if (value === 0) return;\n\n    setText(value);\n  };\n\n  //Hàm này để lấy dữ liệu chi tiết sản phẩm\n  const fetchDetail = async () => {\n    const response = await ProductAPI.getDetail(id);\n    console.log(response);\n    console.log(response.product);\n    setDetail(response.product);\n  };\n  useEffect(() => {\n    fetchDetail();\n  }, [id]);\n\n  //Phần này dùng để xem review hay description\n  const [review, setReview] = useState(\"description\");\n  const handlerReview = (value) => {\n    setReview(value);\n  };\n\n  //Hàm này là Thêm Sản Phẩm\n  const addToCart = (quantity) => {\n    let id_user_cart = \"\";\n    if (quantity === 0) return;\n    if (localStorage.getItem(\"id_user\")) {\n      id_user_cart = localStorage.getItem(\"id_user\");\n    } else {\n      id_user_cart = id_user;\n    }\n\n    const data = {\n      idUser: id_user_cart,\n      _id: detail._id,\n      name: detail.name,\n      price: detail.price,\n      quantity: text,\n      img1: detail.img1,\n    };\n    console.log(\"data\", data);\n    if (localStorage.getItem(\"id_user\")) {\n      console.log(\"Bạn Đã Đăng Nhập!\");\n\n      const fetchPost = async () => {\n        const params = {\n          idUser: id_user_cart, //localStorage.getItem('id_user')\n          _id: detail._id, // Lấy idProduct\n          quantity: text, // Lấy số lượng\n        };\n        console.log(\"params\", params);\n        const query = \"?\" + queryString.stringify(params);\n        console.log(query);\n        const response = await CartAPI.postAddToCart(query);\n\n        console.log(response);\n      };\n\n      fetchPost();\n    } else {\n      const action = addCart(data);\n      dispatch(action);\n    }\n\n    alertify.set(\"notifier\", \"position\", \"bottom-left\");\n    alertify.success(\"Bạn Đã Thêm Hàng Thành Công!\");\n  };\n  // nhận tín hiệu cập nhật số lượng từ server\n  useEffect(() => {\n    socket.on(\"update_quantity\", (data) => {\n      console.log(data.message);\n      fetchDetail();\n    });\n  }, []);\n  return (\n    <section className=\"py-5\">\n      <div className=\"container\">\n        <div className=\"row mb-5\">\n          <div className=\"col-lg-6\">\n            <div className=\"row m-sm-0\">\n              <div className=\"col-sm-2 p-sm-0 order-2 order-sm-1 mt-2 mt-sm-0\">\n                <div\n                  className=\"owl-thumbs d-flex flex-row flex-sm-column\"\n                  data-slider-id=\"1\"\n                >\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img1} alt=\"...\" />\n                  </div>\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img2} alt=\"...\" />\n                  </div>\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img3} alt=\"...\" />\n                  </div>\n                  <div className=\"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0\">\n                    <img className=\"w-100\" src={detail.img4} alt=\"...\" />\n                  </div>\n                </div>\n              </div>\n\n              <div\n                id=\"carouselExampleControls\"\n                className=\"carousel slide col-sm-10 order-1 order-sm-2\"\n                data-ride=\"carousel\"\n              >\n                <div className=\"carousel-inner owl-carousel product-slider\">\n                  <div className=\"carousel-item active\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img1}\n                      alt=\"First slide\"\n                    />\n                  </div>\n                  <div className=\"carousel-item\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img2}\n                      alt=\"Second slide\"\n                    />\n                  </div>\n                  <div className=\"carousel-item\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img3}\n                      alt=\"Third slide\"\n                    />\n                  </div>\n                  <div className=\"carousel-item\">\n                    <img\n                      className=\"d-block w-100\"\n                      src={detail.img4}\n                      alt=\"Third slide\"\n                    />\n                  </div>\n                </div>\n                <a\n                  className=\"carousel-control-prev\"\n                  href=\"#carouselExampleControls\"\n                  role=\"button\"\n                  data-slide=\"prev\"\n                >\n                  <span\n                    className=\"carousel-control-prev-icon\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  <span className=\"sr-only\">Previous</span>\n                </a>\n                <a\n                  className=\"carousel-control-next\"\n                  href=\"#carouselExampleControls\"\n                  role=\"button\"\n                  data-slide=\"next\"\n                >\n                  <span\n                    className=\"carousel-control-next-icon\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  <span className=\"sr-only\">Next</span>\n                </a>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-lg-6\">\n            <br></br>\n            <h1>{detail.name}</h1>\n            <br></br>\n            <p className=\"text-muted lead\">{convertMoney(detail.price)} VND</p>\n            <br></br>\n            <p className=\"text-small mb-4\">{detail.short_desc}</p>\n            <ul className=\"list-unstyled small d-inline-block\">\n              <li className=\"mb-3 bg-white text-muted\">\n                <strong className=\"text-uppercase text-dark\">Category:</strong>\n                <a className=\"reset-anchor ml-2\">{detail.category}s</a>\n              </li>\n              <li className=\"mb-3 bg-white text-muted\">\n                <strong className=\"text-uppercase text-dark\">\n                  Remaining quantity:\n                </strong>\n                <a className=\"reset-anchor ml-2\">\n                  {detail.quantity > 0 ? detail.quantity : \"Hết hàng\"}\n                </a>\n              </li>\n            </ul>\n            <div className=\"row align-items-stretch mb-4\">\n              <div className=\"col-sm-5 pr-sm-0\">\n                <div className=\"border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white\">\n                  <span className=\"small text-uppercase text-gray mr-4 no-select\">\n                    Quantity\n                  </span>\n                  <div className=\"quantity\">\n                    <button\n                      className=\"dec-btn p-0\"\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      <i className=\"fas fa-caret-left\" onClick={downText}></i>\n                    </button>\n                    <input\n                      className=\"form-control border-0 shadow-0 p-0\"\n                      type=\"text\"\n                      value={text}\n                      onChange={onChangeText}\n                    />\n                    <button\n                      className=\"inc-btn p-0\"\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      <i\n                        className=\"fas fa-caret-right\"\n                        onClick={() => upText(detail.quantity)}\n                      ></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-sm-3 pl-sm-0\">\n                <a\n                  className=\"btn btn-dark btn-sm btn-block d-flex align-items-center justify-content-center px-0 text-white\"\n                  onClick={() => addToCart(detail.quantity)}\n                >\n                  Add to cart\n                </a>\n              </div>\n              <br></br>\n              <br></br>\n            </div>\n          </div>\n        </div>\n        {/* <div className='form-group'>\n\t\t\t\t\t<label htmlFor='exampleFormControlTextarea1'>Comment:</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\trows='3'\n\t\t\t\t\t\tonChange={onChangeComment}\n\t\t\t\t\t\tvalue={comment}></textarea>\n\t\t\t\t</div> */}\n        {/* <div className='d-flex justify-content-between'>\n\t\t\t\t\t<div className='d-flex w-25'>\n\t\t\t\t\t\t<span className='mt-2'>Evaluate: </span>\n\t\t\t\t\t\t&nbsp; &nbsp;\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='form-control w-25'\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tmin='1'\n\t\t\t\t\t\t\tmax='5'\n\t\t\t\t\t\t\tvalue={star}\n\t\t\t\t\t\t\tonChange={onChangeStar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t&nbsp; &nbsp;\n\t\t\t\t\t\t<span className='mt-2'>Star</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='btn btn-dark btn-sm btn-block px-0 text-white'\n\t\t\t\t\t\t\tstyle={{ width: '12rem' }}\n\t\t\t\t\t\t\tonClick={handlerComment}>\n\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div> */}\n        <br />\n        <ul className=\"nav nav-tabs border-0\">\n          <li className=\"nav-item\">\n            <a\n              className=\"nav-link fix_comment\"\n              onClick={() => handlerReview(\"description\")}\n              style={\n                review === \"description\"\n                  ? { backgroundColor: \"#383838\", color: \"#ffffff\" }\n                  : { color: \"#383838\" }\n              }\n            >\n              Description\n            </a>\n          </li>\n          {/* <li className='nav-item'>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='nav-link fix_comment'\n\t\t\t\t\t\t\tonClick={() => handlerReview('review')}\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\treview === 'review'\n\t\t\t\t\t\t\t\t\t? { backgroundColor: '#383838', color: '#ffffff' }\n\t\t\t\t\t\t\t\t\t: { color: '#383838' }\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\tReviews\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> */}\n        </ul>\n        <div className=\"tab-content mb-5\">\n          {review === \"description\" ? (\n            <div className=\"tab-pane fade show active\">\n              <div className=\"pt-4 pb-4 bg-white\">\n                <h6 className=\"text-uppercase\">Product description </h6>\n                <br></br>\n                <p\n                  className=\"text-muted text-small mb-0\"\n                  style={{ whiteSpace: \"pre-wrap\" }}\n                >\n                  {detail.long_desc}\n                </p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"tab-pane fade show active\">\n              <div className=\"p-4 p-lg-5 bg-white\">\n                <div className=\"row\">\n                  <div className=\"col-lg-8\">\n                    {list_comment &&\n                      list_comment.map((value) => (\n                        <div className=\"media mb-3\" key={value._id}>\n                          <img\n                            className=\"rounded-circle\"\n                            src=\"https://img.icons8.com/color/36/000000/administrator-male.png\"\n                            alt=\"\"\n                            width=\"50\"\n                          />\n                          <div className=\"media-body ml-3\">\n                            <h6 className=\"mb-0 text-uppercase\">\n                              {value.fullname}\n                            </h6>\n                            <p className=\"small text-muted mb-0 text-uppercase\">\n                              dd/mm/yyyy\n                            </p>\n                            <ul className=\"list-inline mb-1 text-xs\">\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star1}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star2}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star3}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star4}></i>\n                              </li>\n                              <li className=\"list-inline-item m-0\">\n                                <i className={value.star5}></i>\n                              </li>\n                            </ul>\n                            <p className=\"text-small mb-0 text-muted\">\n                              {value.content}\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        <h2 className=\"h5 text-uppercase mb-4\">Related products</h2>\n        <div className=\"row\">\n          {product &&\n            product\n              .filter(\n                (el) => el.category === detail.category && el._id !== detail._id\n              )\n              .map((value) => (\n                <div className=\"col-lg-3 col-sm-6\" key={value._id}>\n                  <div className=\"product text-center skel-loader\">\n                    <div className=\"d-block mb-3 position-relative\">\n                      <img\n                        className=\"img-fluid w-100\"\n                        src={value.img1}\n                        alt=\"...\"\n                      />\n                      <div className=\"product-overlay\">\n                        <ul className=\"mb-0 list-inline\"></ul>\n                      </div>\n                    </div>\n                    <h6>\n                      <Link\n                        className=\"reset-anchor\"\n                        to={`/detail/${value._id}`}\n                      >\n                        {value.name}\n                      </Link>\n                    </h6>\n                    <p className=\"small text-muted\">\n                      {convertMoney(value.price)} VND\n                    </p>\n                  </div>\n                </div>\n              ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Detail;\n"],"sourceRoot":""}