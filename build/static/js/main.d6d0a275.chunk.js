(this.webpackJsonpclient_shop=this.webpackJsonpclient_shop||[]).push([[2],{11:function(e,t,s){"use strict";var a=s(57),c=s.n(a),n=s(31),r=s.n(n);const l=c.a.create({baseURL:"http://localhost:5000",headers:{"content-type":"application/json"},paramsSerializer:e=>r.a.stringify(e)});l.interceptors.request.use((async e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e})),l.interceptors.response.use((e=>e&&e.data?e.data:e),(e=>{throw console.log(e),e})),t.a=l},120:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(21),r=s.n(n),l=(s(63),s(12)),o=s(55),i=(s(64),s(65),s(66),s(10)),d=s(6),j=s(3),b=s(0);var m=function(e){return Object(b.jsx)("footer",{className:"bg-dark text-white",children:Object(b.jsx)("div",{className:"container py-4",children:Object(b.jsxs)("div",{className:"row py-5",children:[Object(b.jsxs)("div",{className:"col-md-4 mb-3 mb-md-0",children:[Object(b.jsx)("h6",{className:"text-uppercase mb-3",children:"Customer services"}),Object(b.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Help & Contact Us"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Returns & Refunds"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Online Stores"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Terms & Conditions"})})]})]}),Object(b.jsxs)("div",{className:"col-md-4 mb-3 mb-md-0",children:[Object(b.jsx)("h6",{className:"text-uppercase mb-3",children:"Company"}),Object(b.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"What We Do"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Available Services"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Latest Posts"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"FAQs"})})]})]}),Object(b.jsxs)("div",{className:"col-md-4",children:[Object(b.jsx)("h6",{className:"text-uppercase mb-3",children:"Social media"}),Object(b.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Twitter"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Instagram"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Facebook"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"footer-link",href:"#",children:"Pinterest"})})]})]})]})})})},h=s(32),u=s(22);var O=function(e){const t=Object(i.b)();return Object(b.jsx)("li",{className:"nav-item",onClick:()=>{localStorage.clear();const e=Object(u.b)("");t(e)},children:Object(b.jsx)(d.b,{className:"nav-link",to:"/signin",children:"( Logout )"})})};var x=function(e){return Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(d.b,{className:"nav-link",to:"/signin",children:[Object(b.jsx)("i",{className:"fas fa-user-alt mr-1 text-gray"}),"Login"]})})},g=s(33);var p=function(e){const[t,s]=Object(a.useState)(""),c=localStorage.getItem("name_user");return Object(a.useEffect)((()=>{(async()=>{const e=await g.a.getDetailData(localStorage.getItem("id_user"));console.log(e),s(e)})()}),[]),Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsxs)("a",{className:"nav-link dropdown-toggle",style:{cursor:"pointer"},id:"pagesDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(b.jsx)("i",{className:"fas fa-user-alt mr-1 text-gray"}),t.fullname||c]}),Object(b.jsx)("div",{className:"dropdown-menu mt-3","aria-labelledby":"pagesDropdown",children:Object(b.jsx)(d.b,{className:"dropdown-item border-0 transition-link",to:"/history",children:"History"})})]})};var f=function(e){const[t,s]=Object(a.useState)("Home"),c=Object(i.b)();if(localStorage.getItem("id_user")){c(Object(u.a)(localStorage.getItem("id_user")))}else{localStorage.setItem("id_temp","abc999");c(Object(h.b)(localStorage.getItem("id_temp")))}var n=Object(i.c)((e=>e.Session.idUser)),r=Object(i.c)((e=>e.Cart.id_user));console.log(n),console.log(r);const[l,o]=Object(a.useState)(!1),[j,m]=Object(a.useState)(!1);Object(a.useEffect)((()=>{n?(o(!0),m(!0)):(o(!1),m(!1))}),[n]);const g=e=>{s(e),console.log(e)};return Object(b.jsx)("div",{className:"container px-0 px-lg-3",children:Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light py-3 px-lg-0",children:[Object(b.jsx)(d.b,{className:"navbar-brand",to:"/",children:Object(b.jsx)("span",{className:"font-weight-bold text-uppercase text-dark",children:"Boutique"})}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:[Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"nav-item",onClick:()=>g("Home"),children:Object(b.jsx)(d.b,{className:"nav-link",to:"/",style:"Home"===t?{color:"#dcb14a"}:{color:"black"},children:"Home"})}),Object(b.jsx)("li",{className:"nav-item",onClick:()=>g("Shop"),children:Object(b.jsx)(d.b,{className:"nav-link",to:"/shop",style:"Shop"===t?{color:"#dcb14a"}:{color:"black"},children:"Shop"})})]}),Object(b.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(d.b,{className:"nav-link",to:"/cart",children:[Object(b.jsx)("i",{className:"fas fa-dolly-flatbed mr-1 text-gray"}),"Cart"]})}),j?Object(b.jsx)(p,{}):"",l?Object(b.jsx)(O,{}):Object(b.jsx)(x,{})]})]})]})})},v=(s(98),s(11));var N={getMessageByRoomId:e=>{const t="/chatrooms/getById?roomId=".concat(e);return v.a.get(t)},createNewRoom:()=>v.a.post("/chatrooms/createNewRoom"),addMessage:e=>v.a.put("/chatrooms/addMessage",e)};const _=s(58)("http://localhost:5000",{transports:["websocket"],withCredentials:!0});var y=function(e){const[t,s]=Object(a.useState)(!1),[c,n]=Object(a.useState)(""),[r,l]=Object(a.useState)([]),o=async()=>{const e=localStorage.getItem("njs_asm3_roomId");if(e&&"/end"===c.toLowerCase())return await N.addMessage({message:"==END ROOM==",roomId:localStorage.getItem("njs_asm3_roomId"),is_admin:!1}),n(""),l([]),void s(!1);if(""===c.trim())return;if(!e){const e=await N.createNewRoom();localStorage.setItem("njs_asm3_roomId",e._id)}const t={message:c,roomId:localStorage.getItem("njs_asm3_roomId"),is_admin:!1};try{const e=await N.addMessage(t);console.log(e),_.emit("send_message",t),n("")}catch(a){console.error("Failed to send message:",a)}},i=async e=>{if(e)try{const t=await N.getMessageByRoomId(e);l(t.content||[])}catch(t){console.error("Error fetching messages:",t)}};return Object(a.useEffect)((()=>{const e=localStorage.getItem("njs_asm3_roomId");e&&e&&i(e)}),[]),Object(a.useEffect)((()=>{_.on("receive_message",(e=>{console.log("Received message:",e),i(e.roomId)}))}),[_]),Object(a.useEffect)((()=>{_.on("delete-room",(e=>{localStorage.getItem("njs_asm3_roomId")===e&&localStorage.removeItem("njs_asm3_roomId")}))}),[]),Object(b.jsxs)("div",{className:"wrapper_chat",children:[Object(b.jsx)("div",{className:"chat_messenger",onClick:()=>{s(!t)},children:Object(b.jsx)("svg",{x:"0",y:"0",width:"60px",height:"60px",children:Object(b.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(b.jsxs)("g",{children:[Object(b.jsx)("circle",{fill:"#383838",cx:"30",cy:"30",r:"30"}),Object(b.jsx)("svg",{x:"10",y:"10",children:Object(b.jsx)("g",{transform:"translate(0.000000, -10.000000)",fill:"#FFFFFF",children:Object(b.jsx)("g",{id:"logo",transform:"translate(0.000000, 10.000000)",children:Object(b.jsx)("path",{d:"M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8  20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612  13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894  C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0  20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734  C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944  25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404  30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674  L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z"})})})})]})})})}),t&&Object(b.jsx)("div",{className:"active_chat animate__animated animate__jackInTheBox",children:Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsxs)("div",{className:"card card-bordered fix_boderChat",style:{width:"fit-content"},children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("h4",{className:"card-title",children:Object(b.jsx)("strong",{children:"Customer Support"})})," ",Object(b.jsx)("a",{className:"btn btn-xs btn-secondary",href:"#",children:"Let's Chat App"})]}),Object(b.jsx)("div",{className:"ps-container ps-theme-default ps-active-y fix_scoll",children:r&&r.map((e=>e.is_admin?Object(b.jsxs)("div",{className:"media media-chat",children:[" ",Object(b.jsx)("img",{className:"avatar",src:"https://img.icons8.com/color/36/000000/administrator-male.png",alt:"..."}),Object(b.jsx)("div",{className:"media-body",children:Object(b.jsxs)("p",{children:["C\u1ed9ng t\xe1c vi\xean: ",e.message]})},e._id)]},e._id):Object(b.jsx)("div",{className:"media media-chat media-chat-reverse",children:Object(b.jsx)("div",{className:"media-body",children:Object(b.jsxs)("p",{children:["You: ",e.message]})})},e._id)))}),Object(b.jsxs)("div",{className:"publisher bt-1 border-light",children:[Object(b.jsx)("img",{className:"avatar avatar-xs",src:"https://img.icons8.com/color/36/000000/administrator-male.png",alt:"..."}),Object(b.jsx)("input",{type:"text",placeholder:"Enter Message!",onChange:e=>{n(e.target.value)},value:c,style:{width:"80%"},onKeyPress:e=>{"Enter"===e.key&&o()}}),Object(b.jsx)("a",{onClick:o,className:"publisher-btn text-info","data-abc":"true",children:Object(b.jsx)("i",{className:"fa fa-paper-plane"})})]})]})})})]})};const S=["component","isAuthenticated"],C=Object(a.lazy)((()=>s.e(8).then(s.bind(null,129)))),k=Object(a.lazy)((()=>Promise.all([s.e(1),s.e(6)]).then(s.bind(null,132)))),I=Object(a.lazy)((()=>Promise.all([s.e(1),s.e(7)]).then(s.bind(null,133)))),E=Object(a.lazy)((()=>Promise.all([s.e(0),s.e(10)]).then(s.bind(null,127)))),w=Object(a.lazy)((()=>Promise.all([s.e(0),s.e(12)]).then(s.bind(null,134)))),A=Object(a.lazy)((()=>s.e(5).then(s.bind(null,135)))),D=Object(a.lazy)((()=>s.e(11).then(s.bind(null,131)))),L=Object(a.lazy)((()=>s.e(9).then(s.bind(null,130))));var R=function(){const e=Object(i.c)((e=>e.Session.idUser));console.log(e);const[t,s]=Object(a.useState)(!!e||!!localStorage.getItem("token"));return Object(a.useEffect)((()=>{e||localStorage.getItem("token")?s(!0):s(!1)}),[e]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)(d.a,{children:[Object(b.jsx)(f,{}),Object(b.jsxs)(a.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading..."}),children:[Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{exact:!0,path:"/",component:C})," ",Object(b.jsx)(j.b,{path:"/shop",component:L}),Object(b.jsx)(j.b,{path:"/signin",component:E})," ",Object(b.jsx)(j.b,{path:"/signup",component:w})," ",Object(b.jsx)(j.b,{path:"/cart",component:I})," ",Object(b.jsx)(T,{exact:!0,path:"/detail/:id",component:k,isAuthenticated:t}),Object(b.jsx)(T,{exact:!0,path:"/checkout",component:A,isAuthenticated:t}),Object(b.jsx)(T,{exact:!0,path:"/history",component:D,isAuthenticated:t})]})," "]})]}),Object(b.jsx)(y,{}),Object(b.jsx)(m,{})]})};function T(e){let{component:t,isAuthenticated:s}=e,a=Object(o.a)(e,S);return Object(b.jsx)(j.b,Object(l.a)(Object(l.a)({},a),{},{render:e=>s?Object(b.jsx)(t,Object(l.a)({},e)):Object(b.jsx)(j.a,{to:{pathname:"/signin",state:{from:e.location}}})}))}var U=e=>{e&&e instanceof Function&&s.e(13).then(s.bind(null,128)).then((t=>{let{getCLS:s,getFID:a,getFCP:c,getLCP:n,getTTFB:r}=t;s(e),a(e),c(e),n(e),r(e)}))},M=s(23);const F={id_user:"",listCart:[]};var P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return console.log("id_user: ",t.data),e={id_user:t.data,listCart:e.listCart},e;case"ADD_CART":console.log(t.data);const s=t.data,a=e.listCart;if(a.length<1)a.push(s);else{const e=a.findIndex((e=>e._id===s._id));a.find((e=>e._id===s._id))?(a[e].count=parseInt(a[e].count)+parseInt(s.count),console.log("Update")):(a.push(s),console.log("Push"))}return e={id_user:e.id_user,listCart:a},console.log(e),e;case"DELETE_CART":const c=t.data,n=e.listCart,r=n.findIndex((e=>e._id===c._id));return n.splice(r,1),e={id_user:e.id_user,listCart:n},e;case"DELETE_ALL_CART":const l=t.data;return e={id_user:e.id_user,listCart:l},e;case"UPDATE_CART":const o=t.data,i=e.listCart,d=i.findIndex((e=>e._id===o._id));return i[d].count=o.count,e={id_user:e.id_user,listCart:i},e;default:return e}};const z={idUser:""};var B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SESSION":console.log("idUser: ",t.data);const s=[...e.idUser];return s.idUser=t.data,s;case"DELETE_SESSION":console.log("idUser: ",t.data);const a=[...e.idUser];return a.idUser=t.data,a;default:return e}};var H=Object(M.a)({Cart:P,Session:B});var W=Object(M.b)(H);r.a.render(Object(b.jsx)(i.a,{store:W,children:Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(R,{})})}),document.getElementById("root")),U()},22:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return c}));const a=e=>({type:"ADD_SESSION",data:e}),c=e=>({type:"DELETE_SESSION",data:e})},32:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return c})),s.d(t,"d",(function(){return n})),s.d(t,"c",(function(){return r}));const a=e=>({type:"ADD_USER",data:e}),c=e=>({type:"ADD_CART",data:e}),n=e=>({type:"UPDATE_CART",data:e}),r=e=>({type:"DELETE_CART",data:e})},33:function(e,t,s){"use strict";var a=s(11);const c={getAllData:()=>a.a.get("/users"),getDetailData:e=>{const t="/users/".concat(e);return a.a.get(t)},postSignUp:e=>{const t="/users/signup/".concat(e);return a.a.post(t)},postLogin:e=>{const t="/users/login/".concat(e);return a.a.post(t)}};t.a=c},63:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},98:function(e,t,s){}},[[120,3,4]]]);
//# sourceMappingURL=main.d6d0a275.chunk.js.map